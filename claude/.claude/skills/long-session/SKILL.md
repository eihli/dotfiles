---
name: long-session
description: |
  Set up artifacts for multi-session autonomous work.
  Use when: (1) starting overnight/long autonomous runs,
  (2) user says "long session", "overnight", "autonomous",
  (3) work will span multiple sessions without user interaction.
---

# Long Session: Multi-Session Work Setup

Sets up tracking artifacts so subsequent sessions can resume effectively.

## 1. Create/Update Feature List

Create `features.json` if missing:
```json
{
  "features": [
    {"id": 1, "name": "feature name", "passes": false, "verification": "how to verify"}
  ],
  "notes": ""
}
```

If exists, review with user and update.

## 2. Create Init Script

Create `init.sh` if missing:
```bash
#!/bin/bash
# Auto-generated by /long-session
# Starts dev environment for quick health checks

# Example patterns (customize per project):
# npm run dev &
# python -m pytest --co -q  # verify tests discoverable
# make check
```

Make executable. Ask user what commands belong here.

## 3. Create Progress File

Create/update `claude-progress.txt`:
```
# Session Progress

## Current Session: [timestamp]
- Started: [what was the goal]
- Completed: [features/tasks done]
- Blocked: [any blockers]
- Next: [suggested next steps]

## Previous Sessions
[append previous session summaries here]
```

## 4. Git Commit Setup Files

Commit the artifacts:
```bash
git add features.json init.sh claude-progress.txt
git commit -m "Add long-session tracking artifacts"
```

## 5. Session Startup Checklist

Print for reference:
```
## Long Session Startup Checklist
1. pwd - verify working directory
2. git log --oneline -5 - see recent work
3. cat claude-progress.txt - read progress
4. cat features.json | jq '.features[] | select(.passes==false)' - find next feature
5. ./init.sh - start dev environment
6. Run e2e verification - confirm baseline works
7. Pick ONE incomplete feature and implement
8. Update claude-progress.txt before session ends
```

## Constraints

- **One feature at a time** - complete, test, commit before starting next
- **Always update progress** - don't leave session without updating claude-progress.txt
- **Commit often** - each feature = separate commit with descriptive message
- **Verify before marking done** - run actual e2e tests, not just unit tests
