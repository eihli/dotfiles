#!/bin/bash
# Watch for notifications from claude agent running as another user
# Reads from FIFO, sends desktop notifications

PIPE="/tmp/claude-notify-pipe"

# Create FIFO if missing
if [[ ! -p "$PIPE" ]]; then
    mkfifo "$PIPE" && chmod 622 "$PIPE"
fi

while true; do
    if read -r msg < "$PIPE"; then
        notify-send "Claude Code" "$msg"
    fi
done
